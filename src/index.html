<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8"/>
    <title>Story Forge</title>
    <link rel="stylesheet" href="index.css"/>


    <script src="./js/lib/babylon.js"></script>
    <script src="./js/lib/babylonjs.loaders.min.js"></script>
    <script src="./js/lib/babylon.inspector.bundle.js"></script>
    <script src="./js/lib/babylon.viewer.js"></script>
    <script src="./js/lib/babylonjs.materials.js"></script>
    <script src="./js/lib/babylon.gui.js"></script>
    <script src="./js/lib/babylonjs.serializers.min.js"></script>
    <script src="./js/lib/babylonjs.postProcess.min.js"></script>
    <script src="./js/lib/babylonjs.proceduralTextures.min.js"></script>


    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/select2.min.css">
    <link rel="stylesheet" href="./css/style.css">

    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/bootstrap.bundle.js"></script>


    <script>window.$ = window.jQuery = require('jquery');</script>

    <link href="./css/google_font.css" rel="stylesheet"/>
    <script src="./animation-timeline-control/lib/animation-timeline.js"></script>


    <link rel="stylesheet" href="./css/jquery-ui.css">
    <script src="./js/jquery-ui.js"></script>
    <script src="js/wavesurfer.min.js"></script>
    <script src="js/select2.min.js"></script>

    <link href="./css/font-awesome.css" rel="stylesheet"/>

</head>

<body>

<div class="row">
    <div class="col-2 resizable-panel">

        <ul class="nav nav-tabs" id="leftTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="Hierarchy-tab" data-bs-toggle="tab" data-bs-target="#Hierarchy"
                        type="button" role="tab" aria-controls="Hierarchy" aria-selected="true">Hierarchy
                </button>

            </li>

            <li class="nav-item" role="presentation">
                <button class="nav-link" id="posemorph-tab" data-bs-toggle="tab" data-bs-target="#posemorph"
                        type="button" role="tab" aria-controls="Hierarchy" aria-selected="true">Pose Morph
                </button>
            </li>
        </ul>
        <div class="tab-content" id="leftTabContent">
            <div class="tab-pane fade show active" id="Hierarchy" role="tabpanel" aria-labelledby="Hierarchy-tab">
                <div data-include="Hierarchy"></div>
            </div>

            <div class="tab-pane fade" id="posemorph" role="tabpanel" aria-labelledby="posemorph-tab">
                <div data-include="PoseMorph"></div>
            </div>
        </div>



    </div>
    <div class="col-7 resizable-panel">
        <canvas id="renderCanvas"></canvas>
    </div>
    <div class="col-3 resizable-panel Inspector_limit">
        <input type="file" id="modelFileInput" style="display: none;">
        <button id="importButton" style="display: none;">Import Model</button>
        <div data-include="WizardImporter" ></div>


        <ul class="nav nav-tabs w-100" id="myTab" role="tablist">

            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="LipsEditor-tab" data-bs-toggle="tab" data-bs-target="#LipsEditor"
                        type="button" role="tab" aria-controls="LipsEditor" aria-selected="true">Lips Editor
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="Expersion-tab" data-bs-toggle="tab" data-bs-target="#Expersion"
                        type="button" role="tab" aria-controls="Expersion" aria-selected="true">Expersion
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link " id="Tools-tab" data-bs-toggle="tab" data-bs-target="#Tools"
                        type="button" role="tab" aria-controls="Tools" aria-selected="true">Tools
                </button>
            </li>
        </ul>
        <div class="tab-content" id="myTabContentInspector">
            <div class="tab-pane fade show active" id="LipsEditor" role="tabpanel" aria-labelledby="LipsEditor-tab">
                <div data-include="LipsEditor"></div>
            </div>

            <div class="tab-pane fade" id="Expersion" role="tabpanel" aria-labelledby="Expersion-tab">
                <div data-include="BlendshapeConnectPhoneme"></div>
                <div data-include="Expersion"></div>
            </div>
            <div class="tab-pane fade " id="Tools" role="tabpanel" aria-labelledby="Tools-tab">
                <div data-include="Inspector"></div>
                <div data-include="EyeController"></div>
            </div>
        </div>

    </div>
</div>

<div data-include="audiowave"></div>
<div data-include="timeline" class="resizable-panel-timeline"></div>

<div data-include="Preference" ></div>
<div data-include="avatar-creator"></div>
<div data-include="loading"></div>


<script src="./js/Init.js"></script>
<script src="./js/util.js"></script>
<script src="./js/MainMenu.js"></script>

<script>
    $(document).ready(function () {
        var includes = $('[data-include]')
        $.each(includes, function () {
            var file = "component/" + $(this).data('include') + '.html'
            $(this).load(file)
        });

        $(".resizable-panel").resizable({
            handles: "e",  // "e" for east (right) handle
            minWidth: 100,  // Set minimum width
        });
        $(".resizable-panel-timeline").resizable({
            handles: "s",  // "s" for south (bottom) handle
            minHeight: 300,  // Set minimum height
            maxHeight: 900   // Set maximum height
        });
        const importButton = document.getElementById('importButton');
        importButton.addEventListener('click', ImportModel);
    });
</script>




</body>

</html>